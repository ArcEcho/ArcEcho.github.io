---
title: UE4.18新布料系统试用
date: 2017-12-09 20:21:50
tags: [UE4.18, Clothing]
categories: Tech
---

UE4.18版本中终于把新的布料系统实装了，试用了下发现非常强大且简单使用。用下面官方的图解释就是大大简化了Cloth workflow。
![](workflow_change.png)
实际上就是集成了编辑布料的功能到编辑器中，这样就不用在编辑器和建模工具间的来回倒弄了。
<!--more-->

### 最简单的布料例子
先从简单的来，从最简单的布料开始。
我这里使用blender创建一个plane网格。网格越精细，等会绘制网格时可控制的节点就越多。
![](cloth_mesh.png)

然后加上一根骨骼，这里注意加骨骼是为了导入时识别为skeletal mesh，clothing系统是在skeleton editor下操作的。
![](add_bone.png)

然后在skeletal mesh editor中点击工具栏的section select工具，选择我们设置布料的区域。 然后右键选择从section创建布料数据。
![](create_clothing_data.png)

然后点击工具栏启用布料绘制工具就会出现布料绘制的属性栏。这里可以选择布料的各种属性，以及画刷的类型和属性。如图简单绘制了下，白色就是表示我们要应用布料的网格部分。
![](paint_weight.png)

最后关闭布料绘制工具就可以预览布料效果了。
![](final.png)

### 针对mixamo的模型应用布料
下面我们尝试给character模型配上布料。这里我们选择mixamo上的kachujin_g_rosales角色。
![](target_mixamo_character.png)

但是值得注意的是该模型只有一个section，因此我们最好是处理下把我们要的布料部分拆出来。
![](to_blender.png)

如图我把裙摆、围巾等拆成了单独的section。
![](split_into_sections.png)

然后我们导入到UE4中按照之前的步骤设置布料动画，便有了以下结果。
![](final_character.gif)




